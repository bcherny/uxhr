!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define("uxhr",b):a.uxhr=b()}(this,function(){"use strict";return function(a,b,c){b=b||"",c=c||{};var d=c.complete||function(){},e=c.success||function(){},f=c.error||function(){},g=c.headers||{},h=c.method||"GET",i=c.sync||!1,j=function(){return 0===a.indexOf("http")&&"undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest}();if(!j)throw new Error("Browser doesn't support XHR");var k="undefined"!=typeof window.FormData;if("string"!=typeof b&&k&&!(b instanceof window.FormData)){var l=[];for(var m in b)l.push(m+"="+b[m]);b=l.join("&")}"ontimeout"in j&&(j.ontimeout=+c.timeout||0),j.onload=function(){d(j.responseText,j.status),e(j.responseText)},j.onerror=function(){d(j.responseText),f(j.responseText,j.status)},"GET"===h&&b&&(a+=a.indexOf("?")>=0?"&"+b:"?"+b),j.open(h,a,!i);for(var n in g)j.setRequestHeader(n,g[n]);return j.send("GET"!==h?b:null),j}});