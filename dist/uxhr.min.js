!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.uxhr=b()}(this,function(){return function(a,b,c){var d=b||"",e=c||{},f=e.complete||function(){},g=e.success||function(){},h=e.error||function(){},i=e.headers||{},j=e.method||"GET",k=function(){return XMLHttpRequest?new XMLHttpRequest:ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):0}();if(!k)throw new Error("Browser doesn't support XHR");if("string"!=typeof d){var l=[];for(var m in d)l.push(m+"="+d[m]);d=l.join("&")}k.ontimeout=+e.timeout||0,k.onreadystatechange=function(){if(4===k.readyState){var a=k.responseText,b=k.status;400>b?g(a):h(a,b),f(a,b)}},k.open(j,"GET"===j?a+"?"+d:a);for(var n in i)k.setRequestHeader(n,i[i]);k.send("GET"!==j?d:null)}});